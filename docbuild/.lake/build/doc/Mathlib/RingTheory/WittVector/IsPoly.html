<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.RingTheory.WittVector.IsPoly</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.RingTheory.WittVector.IsPoly";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">RingTheory</span>.<span class="name">WittVector</span>.<span class="name">IsPoly</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Mathlib/Algebra/MvPolynomial/Funext.html">Mathlib.Algebra.MvPolynomial.Funext</a></li><li><a href="../../.././Mathlib/Algebra/Ring/ULift.html">Mathlib.Algebra.Ring.ULift</a></li><li><a href="../../.././Mathlib/RingTheory/WittVector/Basic.html">Mathlib.RingTheory.WittVector.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.RingTheory.WittVector.IsPoly" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#WittVector.poly_eq_of_wittPolynomial_bind_eq'"><span class="name">WittVector</span>.<span class="name">poly_eq_of_wittPolynomial_bind_eq'</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.poly_eq_of_wittPolynomial_bind_eq"><span class="name">WittVector</span>.<span class="name">poly_eq_of_wittPolynomial_bind_eq</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly"><span class="name">WittVector</span>.<span class="name">IsPoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.idIsPoly"><span class="name">WittVector</span>.<span class="name">idIsPoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.idIsPolyI'"><span class="name">WittVector</span>.<span class="name">idIsPolyI'</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly.instInhabitedId"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">instInhabitedId</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly.ext"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">ext</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly.comp"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">comp</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ.comp"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">comp</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly.comp‚ÇÇ"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">comp‚ÇÇ</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ.diag"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">diag</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.negIsPoly"><span class="name">WittVector</span>.<span class="name">negIsPoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.zeroIsPoly"><span class="name">WittVector</span>.<span class="name">zeroIsPoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.bind‚ÇÅ_zero_wittPolynomial"><span class="name">WittVector</span>.<span class="name">bind‚ÇÅ_zero_wittPolynomial</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.onePoly"><span class="name">WittVector</span>.<span class="name">onePoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.bind‚ÇÅ_onePoly_wittPolynomial"><span class="name">WittVector</span>.<span class="name">bind‚ÇÅ_onePoly_wittPolynomial</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.oneIsPoly"><span class="name">WittVector</span>.<span class="name">oneIsPoly</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.addIsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">addIsPoly‚ÇÇ</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.mulIsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">mulIsPoly‚ÇÇ</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly.map"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">map</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ.instInhabitedHAdd"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">instInhabitedHAdd</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ.ext"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">ext</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.IsPoly‚ÇÇ.map"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">map</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.Tactic.ghostSimp"><span class="name">WittVector</span>.<span class="name">Tactic</span>.<span class="name">ghostSimp</span></a></div><div class="nav_link"><a class="break_within" href="#WittVector.Tactic.ghostCalc"><span class="name">WittVector</span>.<span class="name">Tactic</span>.<span class="name">ghostCalc</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="The-IsPoly-predicate">The <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a></code> predicate <a class="hover-link" href="#The-IsPoly-predicate">#</a></h1><p><code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">WittVector.IsPoly</a></code> is a (type-valued) predicate on functions <code>f : Œ† R, ùïé R ‚Üí ùïé R</code>.
It asserts that there is a family of polynomials <code>œÜ : ‚Ñï ‚Üí <a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> ‚Ñï ‚Ñ§</code>,
such that the <code>n</code>th coefficient of <code>f x</code> is equal to <code>œÜ n</code> evaluated on the coefficients of <code>x</code>.
Many operations on Witt vectors satisfy this predicate (or an analogue for higher arity functions).
We say that such a function <code>f</code> is a <em>polynomial function</em>.</p><p>The power of satisfying this predicate comes from <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.ext">WittVector.IsPoly.ext</a></code>.
It shows that if <code>œÜ</code> and <code>œà</code> witness that <code>f</code> and <code>g</code> are polynomial functions,
then <code>f = g</code> not merely when <code>œÜ = œà</code>, but in fact it suffices to prove</p><pre><code>‚àÄ n, bind‚ÇÅ œÜ (wittPolynomial p _ n) = bind‚ÇÅ œà (wittPolynomial p _ n)
</code></pre><p>(in other words, when evaluating the Witt polynomials on <code>œÜ</code> and <code>œà</code>, we get the same values)
which will then imply <code>œÜ = œà</code> and hence <code>f = g</code>.</p><p>Even though this sufficient condition looks somewhat intimidating,
it is rather pleasant to check in practice;
more so than direct checking of <code>œÜ = œà</code>.</p><p>In practice, we apply this technique to show that the composition of <code>WittVector.<a href="../../.././Mathlib/Algebra/CharP/Lemmas.html#frobenius">frobenius</a></code>
and <code>WittVector.verschiebung</code> is equal to multiplication by <code>p</code>.</p><h2 class="markdown-heading" id="Main-declarations">Main declarations <a class="hover-link" href="#Main-declarations">#</a></h2><ul>
<li><code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">WittVector.IsPoly</a></code>, <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">WittVector.IsPoly‚ÇÇ</a></code>:
two predicates that assert that a unary/binary function on Witt vectors
is polynomial in the coefficients of the input values.</li>
<li><code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.ext">WittVector.IsPoly.ext</a></code>, <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.ext">WittVector.IsPoly‚ÇÇ.ext</a></code>:
two polynomial functions are equal if their families of polynomials are equal
after evaluating the Witt polynomials on them.</li>
<li><code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.comp">WittVector.IsPoly.comp</a></code> (+ many variants) show that unary/binary compositions
of polynomial functions are polynomial.</li>
<li><code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.idIsPoly">WittVector.idIsPoly</a></code>, <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.negIsPoly">WittVector.negIsPoly</a></code>,
<code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.addIsPoly‚ÇÇ">WittVector.addIsPoly‚ÇÇ</a></code>, <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.mulIsPoly‚ÇÇ">WittVector.mulIsPoly‚ÇÇ</a></code>:
several well-known operations are polynomial functions
(for Verschiebung, Frobenius, and multiplication by <code>p</code>, see their respective files).</li>
</ul><h2 class="markdown-heading" id="On-higher-arity-analogues">On higher arity analogues <a class="hover-link" href="#On-higher-arity-analogues">#</a></h2><p>Ideally, there should be a predicate <code>IsPoly‚Çô</code> for functions of higher arity,
together with <code>IsPoly‚Çô.<a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.comp">comp</a></code> that shows how such functions compose.
Since mathlib does not have a library on composition of higher arity functions,
we have only implemented the unary and binary variants so far.
Nullary functions (a.k.a. constants) are treated
as constant functions and fall under the unary case.</p><h2 class="markdown-heading" id="Tactics">Tactics <a class="hover-link" href="#Tactics">#</a></h2><p>There are important metaprograms defined in this file:
the tactics <code>ghost_simp</code> and <code>ghost_calc</code> and the attribute <code>@[ghost_simps]</code>.
These are used in combination to discharge proofs of identities between polynomial functions.</p><p>The <code>ghost_calc</code> tactic makes use of the <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a></code> and <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a></code> typeclass and its instances.
(In Lean 3, there was an <code>@[is_poly]</code> attribute to manage these instances,
because typeclass resolution did not play well with function composition.
This no longer seems to be an issue, so that such instances can be defined directly.)</p><p>Any lemma doing &quot;ring equation rewriting&quot; with polynomial functions should be tagged
<code>@[ghost_simps]</code>, e.g.</p><pre><code class="language-lean">@[ghost_simps]
<a href="../../.././Mathlib/Tactic/Lemma.html#lemma">lemma</a> bind‚ÇÅ_frobenius_poly_wittPolynomial (n : ‚Ñï) :
    bind‚ÇÅ (frobenius_poly p) (wittPolynomial p ‚Ñ§ n) = (wittPolynomial p ‚Ñ§ (n+1))
</code></pre><p>Proofs of identities between polynomial functions will often follow the pattern</p><pre><code class="language-lean">  ghost_calc _
  &lt;minor preprocessing&gt;
  ghost_simp
</code></pre><h2 class="markdown-heading" id="References">References <a class="hover-link" href="#References">#</a></h2><ul>
<li><p>[Hazewinkel, <em>Witt Vectors</em>][Haze09]</p>
</li>
<li><p>[Commelin and Lewis, <em>Formalizing the Ring of Witt Vectors</em>][CL21]</p>
</li>
</ul></div><div class="mod_doc"><h3 class="markdown-heading" id="The-IsPoly-predicate">The <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a></code> predicate <a class="hover-link" href="#The-IsPoly-predicate">#</a></h3></div><div class="decl" id="WittVector.poly_eq_of_wittPolynomial_bind_eq'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L112-L120">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.poly_eq_of_wittPolynomial_bind_eq'"><span class="name">WittVector</span>.<span class="name">poly_eq_of_wittPolynomial_bind_eq'</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">idx</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> (<span class="fn">idx</span> <a href="../../.././Init/Prelude.html#Prod">√ó</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>) <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">‚àÄ (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <span class="fn">f</span>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a> <span class="fn">n</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <span class="fn">g</span>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a> <span class="fn">n</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">f</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">g</span></div></div></div></div><div class="decl" id="WittVector.poly_eq_of_wittPolynomial_bind_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L122-L130">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.poly_eq_of_wittPolynomial_bind_eq"><span class="name">WittVector</span>.<span class="name">poly_eq_of_wittPolynomial_bind_eq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">‚àÄ (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <span class="fn">f</span>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a> <span class="fn">n</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <span class="fn">g</span>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a> <span class="fn">n</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">f</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">g</span></div></div></div></div><div class="decl" id="WittVector.IsPoly"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L134-L149">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly"><span class="name">WittVector</span>.<span class="name">IsPoly</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A function <code>f : Œ† R, ùïé R ‚Üí ùïé R</code> that maps Witt vectors to Witt vectors over arbitrary base rings
is said to be <em>polynomial</em> if there is a family of polynomials <code>œÜ‚Çô</code> over <code>‚Ñ§</code> such that the <code>n</code>th
coefficient of <code>f x</code> is given by evaluating <code>œÜ‚Çô</code> at the coefficients of <code>x</code>.</p><p>See also <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">WittVector.IsPoly‚ÇÇ</a></code> for the binary variant.</p><p>The <code>ghost_calc</code> tactic makes use of the <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a></code> and <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a></code> typeclass and its instances.
(In Lean 3, there was an <code>@[is_poly]</code> attribute to manage these instances,
because typeclass resolution did not play well with function composition.
This no longer seems to be an issue, so that such instances can be defined directly.)</p><ul class="structure_ext"><li id="WittVector.IsPoly.mk'" class="structure_ext_ctor">mk' :: (</li><ul class="structure_ext_fields"><li id="WittVector.IsPoly.poly" class="structure_field"><div class="structure_field_info">poly : <span class="fn">‚àÉ (<span class="fn">œÜ</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a></span></span>),
  <span class="fn">‚àÄ ‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ [<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>),
    <span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span>.<a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.coeff">coeff</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">fun (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Eval.html#MvPolynomial.aeval">MvPolynomial.aeval</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.coeff">coeff</a></span>)</span> <span class="fn">(<span class="fn">œÜ</span> <span class="fn">n</span>)</span></span></span></span></span></div></li></ul><li class="structure_ext_ctor">)</li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-WittVector.IsPoly" class="instances-list"></ul></details></div></div><div class="decl" id="WittVector.idIsPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L151-L153">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.idIsPoly"><span class="name">WittVector</span>.<span class="name">idIsPoly</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) =&gt; <a href="../../.././Init/Prelude.html#id">id</a></span></span></div></div><p>The identity function on Witt vectors is a polynomial function.</p></div></div><div class="decl" id="WittVector.idIsPolyI'"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L155-L156">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.idIsPolyI'"><span class="name">WittVector</span>.<span class="name">idIsPolyI'</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">a</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">a</span></span></span></div></div></div></div><div class="decl" id="WittVector.IsPoly.instInhabitedId"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L160-L161">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.instInhabitedId"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">instInhabitedId</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) =&gt; <a href="../../.././Init/Prelude.html#id">id</a></span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.instInhabitedId">WittVector.IsPoly.instInhabitedId</a> <span class="fn">p</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">‚ãØ</span> }</span></li></ul></details></div></div><div class="decl" id="WittVector.IsPoly.ext"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L165-L188">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.ext"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">ext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f </span><span class="fn">g</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">f</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hg</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">g</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> :
  <span class="fn">‚àÄ (<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u) [<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>) (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.ghostComponent">ghostComponent</a> <span class="fn">n</span>)</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.ghostComponent">ghostComponent</a> <span class="fn">n</span>)</span> <span class="fn">(<span class="fn">g</span> <span class="fn">x</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">g</span> <span class="fn">x</span></span></div></div></div></div><div class="decl" id="WittVector.IsPoly.comp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L190-L198">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.comp"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">comp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">g </span><span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hg</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">g</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">f</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>) =&gt; <span class="fn">g</span> <a href="../../.././Init/Prelude.html#Function.comp">‚àò</a> <span class="fn">f</span></span></span></div></div><p>The composition of polynomial functions is polynomial.</p></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L202-L216">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A binary function <code>f : Œ† R, ùïé R ‚Üí ùïé R ‚Üí ùïé R</code> on Witt vectors
is said to be <em>polynomial</em> if there is a family of polynomials <code>œÜ‚Çô</code> over <code>‚Ñ§</code> such that the <code>n</code>th
coefficient of <code>f x y</code> is given by evaluating <code>œÜ‚Çô</code> at the coefficients of <code>x</code> and <code>y</code>.</p><p>See also <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">WittVector.IsPoly</a></code> for the unary variant.</p><p>The <code>ghost_calc</code> tactic makes use of the <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a></code> and <code><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a></code> typeclass and its instances.
(In Lean 3, there was an <code>@[is_poly]</code> attribute to manage these instances,
because typeclass resolution did not play well with function composition.
This no longer seems to be an issue, so that such instances can be defined directly.)</p><ul class="structure_ext"><li id="WittVector.IsPoly‚ÇÇ.mk'" class="structure_ext_ctor">mk' :: (</li><ul class="structure_ext_fields"><li id="WittVector.IsPoly‚ÇÇ.poly" class="structure_field"><div class="structure_field_info">poly : <span class="fn">‚àÉ (<span class="fn">œÜ</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">2</span></span> <a href="../../.././Init/Prelude.html#Prod">√ó</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>) <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a></span></span>),
  <span class="fn">‚àÄ ‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ [<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] (<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>),
    <span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">x</span> <span class="fn">y</span>)</span>.<a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.coeff">coeff</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">fun (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.peval">peval</a> <span class="fn">(<span class="fn">œÜ</span> <span class="fn">n</span>)</span> <a href="../../.././Mathlib/Data/Fin/VecNotation.html#Matrix.vecCons">![</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.coeff">coeff</a></span><a href="../../.././Mathlib/Data/Fin/VecNotation.html#Matrix.vecCons">,</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector.coeff">coeff</a></span><a href="../../.././Mathlib/Data/Fin/VecNotation.html#Matrix.vecCons">]</a></span></span></span></span></div></li></ul><li class="structure_ext_ctor">)</li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-WittVector.IsPoly‚ÇÇ" class="instances-list"></ul></details></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ.comp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L220-L236">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.comp"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">comp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f </span><span class="fn">g</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hh</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">h</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">f</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hg</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">g</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x_1</span> <span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn"><span class="fn">h</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x_1</span>)</span> <span class="fn">(<span class="fn">g</span> <span class="fn">y</span>)</span></span></span></span></div></div><p>The composition of polynomial functions is polynomial.</p></div></div><div class="decl" id="WittVector.IsPoly.comp‚ÇÇ"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L238-L246">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.comp‚ÇÇ"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">comp‚ÇÇ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">g</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hg</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">g</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">f</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x_1</span> <span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn"><span class="fn">g</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x_1</span> <span class="fn">y</span>)</span></span></span></span></div></div><p>The composition of a polynomial function with a binary polynomial function is polynomial.</p></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ.diag"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L248-L257">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.diag"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">diag</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">f</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">x_1</span> <span class="fn">x_1</span></span></span></span></div></div><p>The diagonal <code>fun x ‚Ü¶ f x x</code> of a polynomial function <code>f</code> is polynomial.</p></div></div><div class="decl" id="WittVector.negIsPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L263-L270">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.negIsPoly"><span class="name">WittVector</span>.<span class="name">negIsPoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>) =&gt; <a href="../../.././Init/Prelude.html#Neg.neg">Neg.neg</a></span></span></div></div><p>The additive negation is a polynomial function on Witt vectors.</p></div></div><div class="decl" id="WittVector.zeroIsPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L276-L278">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.zeroIsPoly"><span class="name">WittVector</span>.<span class="name">zeroIsPoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x_2</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">0</span></span></span></div></div><p>The function that is constantly zero on Witt vectors is a polynomial function.</p></div></div><div class="decl" id="WittVector.bind‚ÇÅ_zero_wittPolynomial"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L280-L283">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.bind‚ÇÅ_zero_wittPolynomial"><span class="name">WittVector</span>.<span class="name">bind‚ÇÅ_zero_wittPolynomial</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <span class="fn">0</span>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <span class="fn">R</span> <span class="fn">n</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="WittVector.onePoly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L285-L287">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.onePoly"><span class="name">WittVector</span>.<span class="name">onePoly</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a></span></div></div><p>The coefficients of <code>1 : ùïé R</code> as polynomials.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.onePoly">WittVector.onePoly</a> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">n</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></li></ul></details><details id="instances-for-list-WittVector.onePoly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="WittVector.bind‚ÇÅ_onePoly_wittPolynomial"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L289-L298">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.bind‚ÇÅ_onePoly_wittPolynomial"><span class="name">WittVector</span>.<span class="name">bind‚ÇÅ_onePoly_wittPolynomial</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hp</span> : <span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Mathlib/Algebra/MvPolynomial/Monad.html#MvPolynomial.bind‚ÇÅ">MvPolynomial.bind‚ÇÅ</a> <a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.onePoly">onePoly</a>)</span> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/WittPolynomial.html#wittPolynomial">wittPolynomial</a> <span class="fn">p</span> <a href="../../.././Init/Data/Int/Basic.html#Int">‚Ñ§</a> <span class="fn">n</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></div></div></div></div><div class="decl" id="WittVector.oneIsPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L300-L307">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.oneIsPoly"><span class="name">WittVector</span>.<span class="name">oneIsPoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x_2</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">1</span></span></span></div></div><p>The function that is constantly one on Witt vectors is a polynomial function.</p></div></div><div class="decl" id="WittVector.addIsPoly‚ÇÇ"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L311-L314">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.addIsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">addIsPoly‚ÇÇ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x1</span> <span class="fn">x2</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">x1</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x2</span></span></span></div></div><p>Addition of Witt vectors is a polynomial function.</p></div></div><div class="decl" id="WittVector.mulIsPoly‚ÇÇ"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L316-L319">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.mulIsPoly‚ÇÇ"><span class="name">WittVector</span>.<span class="name">mulIsPoly‚ÇÇ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x1</span> <span class="fn">x2</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">x1</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">x2</span></span></span></div></div><p>Multiplication of Witt vectors is a polynomial function.</p></div></div><div class="decl" id="WittVector.IsPoly.map"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L322-L330">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly.map"><span class="name">WittVector</span>.<span class="name">IsPoly</span>.<span class="name">map</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R </span><span class="fn">S</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">S</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly">IsPoly</a> <span class="fn">p</span> <span class="fn">f</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <span class="fn">R</span> <a href="../../.././Mathlib/Algebra/Ring/Hom/Defs.html#RingHom">‚Üí+*</a> <span class="fn">S</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.map">WittVector.map</a> <span class="fn">g</span>)</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.map">WittVector.map</a> <span class="fn">g</span>)</span> <span class="fn">x</span>)</span></span></div></div></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ.instInhabitedHAdd"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L335-L336">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.instInhabitedHAdd"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">instInhabitedHAdd</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././foundational_types.html">Type</a> u_2) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">x</span></span>) (<span class="fn">x1</span> <span class="fn">x2</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">x</span></span>) =&gt; <span class="fn">x1</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x2</span></span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.instInhabitedHAdd">WittVector.IsPoly‚ÇÇ.instInhabitedHAdd</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">‚ãØ</span> }</span></li></ul></details></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ.ext"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L338-L362">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.ext"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">ext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f </span><span class="fn">g</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">f</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hg</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">g</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> :
  <span class="fn">‚àÄ (<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u) [<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] (<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>) (<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>),
    <span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.ghostComponent">ghostComponent</a> <span class="fn">n</span>)</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span> <span class="fn">y</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.ghostComponent">ghostComponent</a> <span class="fn">n</span>)</span> <span class="fn">(<span class="fn">g</span> <span class="fn">x</span> <span class="fn">y</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">_Rcr</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">f</span> <span class="fn">x</span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">g</span> <span class="fn">x</span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="WittVector.IsPoly‚ÇÇ.map"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L365-L374">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ.map"><span class="name">WittVector</span>.<span class="name">IsPoly‚ÇÇ</span>.<span class="name">map</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R </span><span class="fn">S</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">S</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>)</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">‚¶É<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a> u‚¶Ñ ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span> ‚Üí <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.IsPoly‚ÇÇ">IsPoly‚ÇÇ</a> <span class="fn">p</span> <span class="fn">f</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <span class="fn">R</span> <a href="../../.././Mathlib/Algebra/Ring/Hom/Defs.html#RingHom">‚Üí+*</a> <span class="fn">S</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Mathlib/RingTheory/WittVector/Defs.html#WittVector">WittVector</a> <span class="fn">p</span> <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.map">WittVector.map</a> <span class="fn">g</span>)</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span> <span class="fn">y</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.map">WittVector.map</a> <span class="fn">g</span>)</span> <span class="fn">x</span>)</span> <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/RingTheory/WittVector/Basic.html#WittVector.map">WittVector.map</a> <span class="fn">g</span>)</span> <span class="fn">y</span>)</span></span></div></div></div></div><div class="decl" id="WittVector.Tactic.ghostSimp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L389-L390">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.Tactic.ghostSimp"><span class="name">WittVector</span>.<span class="name">Tactic</span>.<span class="name">ghostSimp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>A macro for a common simplification when rewriting with ghost component equations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-WittVector.Tactic.ghostSimp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="WittVector.Tactic.ghostCalc"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/0cc1f970691e01afdf9d8bb9f8307cd7b6aca12a/Mathlib/RingTheory/WittVector/IsPoly.lean#L398-L422">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/RingTheory/WittVector/IsPoly.html#WittVector.Tactic.ghostCalc"><span class="name">WittVector</span>.<span class="name">Tactic</span>.<span class="name">ghostCalc</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>ghost_calc</code> is a tactic for proving identities between polynomial functions.
Typically, when faced with a goal like</p><pre><code class="language-lean">‚àÄ (x y : ùïé R), verschiebung (x * <a href="../../.././Mathlib/Algebra/CharP/Lemmas.html#frobenius">frobenius</a> y) = verschiebung x * y
</code></pre><p>you can</p><ol>
<li>call <code>ghost_calc</code></li>
<li>do a small amount of manual work -- maybe nothing, maybe <code>rintro</code>, etc</li>
<li>call <code>ghost_simp</code></li>
</ol><p>and this will close the goal.</p><p><code>ghost_calc</code> cannot detect whether you are dealing with unary or binary polynomial functions.
You must give it arguments to determine this.
If you are proving a universally quantified goal like the above,
call <code>ghost_calc _ _</code>.
If the variables are introduced already, call <code>ghost_calc x y</code>.
In the unary case, use <code>ghost_calc _</code> or <code>ghost_calc x</code>.</p><p><code>ghost_calc</code> is a light wrapper around type class inference.
All it does is apply the appropriate extensionality lemma and try to infer the resulting goals.
This is subtle and Lean's elaborator doesn't like it because of the HO unification involved,
so it is easier (and prettier) to put it in a tactic script.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-WittVector.Tactic.ghostCalc" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>