{"name":"Aesop.Tree.AddRapp","instances":[],"imports":["Init","Aesop.Check","Aesop.Forward.State.ApplyGoalDiff","Aesop.Tree.Traversal","Aesop.Tree.TreeM","Aesop.Util.UnionFind"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L297-L308","name":"Aesop.addRapp","line":297,"kind":"opaque","docLink":"./Aesop/Tree/AddRapp.html#Aesop.addRapp","doc":"Adds a new rapp and its subgoals. If the rapp assigns mvars, all relevant\ngoals containing these mvars are copied as children of the rapp as well. If\nthe rapp drops mvars, these are treated as assigned mvars, in the sense that\nthe same goals are copied as if the dropped mvar had been assigned.\n\nNote that adding a rapp may prove the parent goal, but this function does not\nmake the necessary changes. So after calling it, you should check whether the\nrapp's parent goal is proven and mark it accordingly.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.addRapp\"><span class=\"name\">Aesop</span>.<span class=\"name\">addRapp</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a> → <span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> <a href=\"./Aesop/Tree/Data.html#Aesop.RappRef\">RappRef</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L157-L295","name":"Aesop.addRappUnsafe","line":157,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.addRappUnsafe","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.addRappUnsafe\"><span class=\"name\">Aesop</span>.<span class=\"name\">addRappUnsafe</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">r</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> <a href=\"./Aesop/Tree/Data.html#Aesop.RappRef\">RappRef</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L126-L155","name":"Aesop.makeInitialGoal","line":126,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.makeInitialGoal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.makeInitialGoal\"><span class=\"name\">Aesop</span>.<span class=\"name\">makeInitialGoal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">goal</span> : <a href=\"./Aesop/RuleTac/Basic.html#Aesop.Subgoal\">Subgoal</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mvars</span> : <span class=\"fn\"><a href=\"./Aesop/Util/UnorderedArraySet.html#Aesop.UnorderedArraySet\">UnorderedArraySet</a> <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parent</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.MVarClusterRef\">MVarClusterRef</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parentMetaState</span> : <a href=\"./Lean/Meta/Basic.html#Lean.Meta.SavedState\">Lean.Meta.SavedState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parentForwardState</span> : <a href=\"./Aesop/Forward/State.html#Aesop.ForwardState\">ForwardState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parentForwardMatches</span> : <a href=\"./Aesop/Tree/Data/ForwardRuleMatches.html#Aesop.ForwardRuleMatches\">ForwardRuleMatches</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">consumedForwardRuleMatch?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch\">ForwardRuleMatch</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">depth</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">successProbability</span> : <a href=\"./Aesop/Percent.html#Aesop.Percent\">Percent</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">origin</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.GoalOrigin\">GoalOrigin</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> <a href=\"./Aesop/Tree/Data.html#Aesop.Goal\">Goal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L86-L124","name":"Aesop.copyGoals","line":86,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.copyGoals","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.copyGoals\"><span class=\"name\">Aesop</span>.<span class=\"name\">copyGoals</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">assignedMVars</span> : <span class=\"fn\"><a href=\"./Aesop/Util/UnorderedArraySet.html#Aesop.UnorderedArraySet\">UnorderedArraySet</a> <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">start</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parentMetaState</span> : <a href=\"./Lean/Meta/Basic.html#Lean.Meta.SavedState\">Lean.Meta.SavedState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parentSuccessProbability</span> : <a href=\"./Aesop/Percent.html#Aesop.Percent\">Percent</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">depth</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Aesop/Tree/Data.html#Aesop.Goal\">Goal</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L64-L84","name":"Aesop.getGoalsToCopy","line":64,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.getGoalsToCopy","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.getGoalsToCopy\"><span class=\"name\">Aesop</span>.<span class=\"name\">getGoalsToCopy</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">assignedMVars</span> : <span class=\"fn\"><a href=\"./Aesop/Util/UnorderedArraySet.html#Aesop.UnorderedArraySet\">UnorderedArraySet</a> <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">start</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L32-L62","name":"Aesop.findPathForAssignedMVars","line":32,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.findPathForAssignedMVars","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.findPathForAssignedMVars\"><span class=\"name\">Aesop</span>.<span class=\"name\">findPathForAssignedMVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">assignedMVars</span> : <span class=\"fn\"><a href=\"./Aesop/Util/UnorderedArraySet.html#Aesop.UnorderedArraySet\">UnorderedArraySet</a> <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">start</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Aesop/Tree/TreeM.html#Aesop.TreeM\">TreeM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Aesop/Tree/Data.html#Aesop.RappRef\">RappRef</a></span> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Std/Data/HashSet/Basic.html#Std.HashSet\">Std.HashSet</a> <a href=\"./Aesop/Tree/Data.html#Aesop.GoalId\">GoalId</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L25-L28","name":"Aesop.AddRapp.consumedForwardRuleMatch?","line":25,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.consumedForwardRuleMatch?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.consumedForwardRuleMatch?\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">consumedForwardRuleMatch?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">r</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch\">ForwardRuleMatch</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L21-L21","name":"Aesop.AddRapp.successProbability","line":21,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.successProbability","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.successProbability\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">successProbability</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/Percent.html#Aesop.Percent\">Percent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L20-L20","name":"Aesop.AddRapp.appliedRule","line":20,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.appliedRule","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.appliedRule\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">appliedRule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/Rule.html#Aesop.RegularRule\">RegularRule</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L19-L19","name":"Aesop.AddRapp.parent","line":19,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.parent","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.parent\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">parent</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L18-L18","name":"Aesop.AddRapp.mk","line":18,"kind":"ctor","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.mk\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">toRuleApplication</span> : <a href=\"./Aesop/RuleTac/Basic.html#Aesop.RuleApplication\">RuleApplication</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parent</span> : <a href=\"./Aesop/Tree/Data.html#Aesop.GoalRef\">GoalRef</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">appliedRule</span> : <a href=\"./Aesop/Rule.html#Aesop.RegularRule\">RegularRule</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">successProbability</span> : <a href=\"./Aesop/Percent.html#Aesop.Percent\">Percent</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L18-L21","name":"Aesop.AddRapp","line":18,"kind":"structure","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span></a></span><span class=\"decl_extends\">extends</span> <a href=\"./Aesop/RuleTac/Basic.html#Aesop.RuleApplication\">Aesop.RuleApplication</a><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/aesop/blob/57185dfad68d78356f9462af984882d6f262aa5d/Aesop/Tree/AddRapp.lean#L18-L21","name":"Aesop.AddRapp.toRuleApplication","line":18,"kind":"def","docLink":"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.toRuleApplication","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp.toRuleApplication\"><span class=\"name\">Aesop</span>.<span class=\"name\">AddRapp</span>.<span class=\"name\">toRuleApplication</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Aesop/Tree/AddRapp.html#Aesop.AddRapp\">AddRapp</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Aesop/RuleTac/Basic.html#Aesop.RuleApplication\">RuleApplication</a></div></div>"}]}