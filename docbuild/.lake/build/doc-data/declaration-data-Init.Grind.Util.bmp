{"name":"Init.Grind.Util","instances":[],"imports":["Init.Core","Init.Classical"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L106-L111","name":"Lean.Grind.em","line":106,"kind":"theorem","docLink":"./Init/Grind/Util.html#Lean.Grind.em","doc":"`Classical.em` variant where disjuncts are marked with `alreadyNorm` gadget.\nSee comment at `alreadyNorm`\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.em\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">em</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Grind/Util.html#Lean.Grind.alreadyNorm\">alreadyNorm</a> <span class=\"fn\">p</span></span> <a href=\"./Init/Prelude.html#Or\">∨</a> <span class=\"fn\"><a href=\"./Init/Grind/Util.html#Lean.Grind.alreadyNorm\">alreadyNorm</a> <a href=\"./Init/Prelude.html#Not\">¬</a><span class=\"fn\">p</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L94-L104","name":"Lean.Grind.alreadyNorm","line":94,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.alreadyNorm","doc":"A marker to indicate that a proposition has already been normalized and should not\nbe processed again.\n\nThis prevents issues when case-splitting on the condition `c` of an if-then-else\nexpression. Without this marker, the negated condition `¬c` might be rewritten into\nan alternative form `c'`, which `grind` may not recognize as equivalent to `¬c`.\nAs a result, `grind` could fail to propagate that `if c then a else b` simplifies to `b`\nin the `¬c` branch.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.alreadyNorm\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">alreadyNorm</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L88-L92","name":"Lean.Grind.natCastUnexpander","line":88,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.natCastUnexpander","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.natCastUnexpander\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">natCastUnexpander</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.PrettyPrinter.Unexpander\">PrettyPrinter.Unexpander</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L75-L79","name":"Lean.Grind.offsetUnexpander","line":75,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.offsetUnexpander","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.offsetUnexpander\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">offsetUnexpander</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.PrettyPrinter.Unexpander\">PrettyPrinter.Unexpander</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L69-L73","name":"Lean.Grind.eqMatchUnexpander","line":69,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.eqMatchUnexpander","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.eqMatchUnexpander\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">eqMatchUnexpander</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.PrettyPrinter.Unexpander\">PrettyPrinter.Unexpander</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L63-L67","name":"Lean.Grind.matchCondUnexpander","line":63,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.matchCondUnexpander","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.matchCondUnexpander\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">matchCondUnexpander</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.PrettyPrinter.Unexpander\">PrettyPrinter.Unexpander</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L57-L61","name":"Lean.Grind.nestedProofUnexpander","line":57,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.nestedProofUnexpander","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.nestedProofUnexpander\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">nestedProofUnexpander</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.PrettyPrinter.Unexpander\">PrettyPrinter.Unexpander</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L54-L55","name":"Lean.Grind.nestedProof_congr","line":54,"kind":"theorem","docLink":"./Init/Grind/Util.html#Lean.Grind.nestedProof_congr","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.nestedProof_congr\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">nestedProof_congr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p </span><span class=\"fn\">q</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\">p</span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">q</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hp</span> : <span class=\"fn\">p</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hq</span> : <span class=\"fn\">q</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#HEq\">HEq</a> <span class=\"fn\">⋯</span> <span class=\"fn\">⋯</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L48-L52","name":"Lean.Grind.PreMatchCond","line":48,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.PreMatchCond","doc":"Similar to `MatchCond`, but not reducible. We use it to ensure `simp`\nwill not eliminate it. After we apply `simp`, we replace it with `MatchCond`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.PreMatchCond\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">PreMatchCond</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L40-L46","name":"Lean.Grind.MatchCond","line":40,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.MatchCond","doc":"Gadget for annotating conditions of `match` equational lemmas.\nWe use this annotation for two different reasons:\n- We don't want to normalize them.\n- We have a propagator for them.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.MatchCond\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">MatchCond</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L33-L38","name":"Lean.Grind.EqMatch","line":33,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.EqMatch","doc":"Gadget for annotating the equalities in `match`-equations conclusions.\n`_origin` is the term used to instantiate the `match`-equation using E-matching.\nWhen `EqMatch a b origin` is `True`, we mark `origin` as a resolved case-split.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.EqMatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">EqMatch</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Sort</a> u_1}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <span class=\"fn\">α</span>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">_origin</span> : <span class=\"fn\">α</span>}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L30-L31","name":"Lean.Grind.eqBwdPattern","line":30,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.eqBwdPattern","doc":"Gadget for representing `a = b` in patterns for backward propagation. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.eqBwdPattern\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">eqBwdPattern</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Sort</a> u_1}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <span class=\"fn\">α</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L27-L28","name":"Lean.Grind.offset","line":27,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.offset","doc":"Gadget for representing offsets `t+k` in patterns. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.offset\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">offset</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L15-L25","name":"Lean.Grind.simpMatchDiscrsOnly","line":15,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.simpMatchDiscrsOnly","doc":"Gadget for marking `match`-expressions that should not be reduced by the `grind` simplifier, but the discriminants should be normalized.\nWe use it when adding instances of `match`-equations to prevent them from being simplified to true.\n\nRemark: it must not be marked as `[reducible]`. Otherwise, `simp` will reduce\n```\nsimpMatchDiscrsOnly (match 0 with | 0 => true | _ => false) = true\n```\nusing `eq_self`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.simpMatchDiscrsOnly\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">simpMatchDiscrsOnly</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Sort</a> u}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a</span> : <span class=\"fn\">α</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">α</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/045d07d2349b9989278991fbcd79a6430032930d/src/Init/Grind/Util.lean#L12-L13","name":"Lean.Grind.nestedProof","line":12,"kind":"def","docLink":"./Init/Grind/Util.html#Lean.Grind.nestedProof","doc":"A helper gadget for annotating nested proofs in goals. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Init/Grind/Util.html#Lean.Grind.nestedProof\"><span class=\"name\">Lean</span>.<span class=\"name\">Grind</span>.<span class=\"name\">nestedProof</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./foundational_types.html\">Prop</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">h</span> : <span class=\"fn\">p</span>}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">p</span></div></div>"}]}